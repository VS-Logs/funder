(this.webpackJsonpfunder=this.webpackJsonpfunder||[]).push([[0],{85:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(28),o=n.n(c),i=n(44),s=n(9),u=n(14),l=n.n(u),j=n(23),d=n(27),b=1,p=!1;function f(){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=19;break}return e.prev=1,e.next=4,fetch("https://icanhazdadjoke.com/search?page=".concat(b),{headers:{Accept:"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,b=n.next_page!==n.total_pages?n.next_page:1,e.abrupt("return",n.results);case 12:return e.prev=12,e.t0=e.catch(1),console.warn(e.t0),e.abrupt("return",null);case 16:return e.prev=16,p=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))).apply(this,arguments)}function h(){return O.apply(this,arguments)}function O(){return(O=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://source.unsplash.com/random/400x600",{headers:{Accept:"application/json"}});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var x=[],v=Object(i.b)({name:"jokes",initialState:{jokes:[],favorites:[],swipeDirection:"",page:"HOME",hasBackgroundImage:!0,hasLocalStorage:!0},reducers:{appendJokes:function(e,t){var n,r=t.payload;(n=e.jokes).push.apply(n,Object(d.a)(r))},invertBoolean:function(e,t){var n=t.payload;e[n]=!e[n]},setPage:function(e,t){var n=t.payload;e.page=n},setSwipeDirection:function(e,t){var n=t.payload;e.swipeDirection=n},onFavDelete:function(e,t){var n=t.payload;e.favorites.splice(e.favorites.findIndex((function(e){return e.id===n})),1)},onSwipe:function(e,t){var n=t.payload;if("RIGHT"===e.swipeDirection){-1===e.favorites.findIndex((function(e){return e.id===n}))&&e.favorites.push(e.jokes[0])}else{var r=e.jokes.findIndex((function(e){return e.id===n}));-1!==r&&e.favorites.splice(r,1)}e.jokes.shift(),e.swipeDirection="",x.pop()},setStateFromLocalStorage:function(e,t){var n,r,a=t.payload;e.jokes=a.jokes,e.favorites=null!==(n=a.favorites)&&void 0!==n?n:[],e.hasBackgroundImage=Boolean(a.hasBackgroundImage),e.hasLocalStorage=Boolean(a.hasLocalStorage),r=a.jokesAPIPageNumber,b=r}}}),m=v.actions,k=m.appendJokes,w=m.invertBoolean,y=m.setPage,S=m.setSwipeDirection,I=m.onFavDelete,E=m.onSwipe,T=m.setStateFromLocalStorage,C=v.reducer,L=function(){return function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n().jokes.length<4)){e.next=6;break}return e.next=4,f();case 4:(r=e.sent)&&t(k(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};!function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.next=5,h();case 5:n=e.sent,t&&n&&x.push(t,n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();n(84),n(85);var F,z,B,J,D,A,R,H=n(6),P=n(7),N=n(74),M=n(15),G=n(13),X=n(92),K=n(93),V=n(94),_=n(95),Y=P.a.div(F||(F=Object(H.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n"]))),q=Object(P.a)(Y)(z||(z=Object(H.a)(["\n  flex-direction: column;\n"]))),Q=n(2),U=P.a.label(B||(B=Object(H.a)(["\n  margin: 10px;\n"]))),W=P.a.div(J||(J=Object(H.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n  background: linear-gradient(180deg, rgba(253, 41, 123, 1) 0%, rgba(255, 88, 100, 1) 100%);\n  color: white;\n"]))),Z=P.a.h1(D||(D=Object(H.a)(["\n  text-align: center;\n  margin: 0;\n  font-size: 3rem;\n  color: white;\n"]))),$=P.a.div(A||(A=Object(H.a)(["\n  text-align: center;\n  margin: 0;\n  font-size: 1.2rem;\n"]))),ee=Object(G.a)(P.a.span(R||(R=Object(H.a)(["\n    position: relative;\n  "])))),te="'Fun'der";function ne(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)(),n=Object(G.c)(te.length,(function(){return{left:1500}})),a=Object(M.a)(n,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){setTimeout((function(){o({left:0})}),0)}),[o]),Object(Q.jsxs)(W,{children:[Object(Q.jsxs)(Z,{children:[c.map((function(e,t){return Object(Q.jsx)(ee,{style:e,children:te.charAt(t)},t)})),Object(Q.jsx)($,{children:"A tinder styled joke application"}),Object(Q.jsx)(Y,{children:Object(Q.jsx)(X.a,{type:"primary",size:"large",onClick:function(){t(y("JOKES"))},style:{margin:"10px"},children:"Lets funder"})})]}),Object(Q.jsxs)(q,{children:[Object(Q.jsxs)(Y,{children:[Object(Q.jsx)(U,{children:"Display background images"}),Object(Q.jsx)(K.a,{checkedChildren:Object(Q.jsx)(V.a,{}),unCheckedChildren:Object(Q.jsx)(_.a,{}),checked:e.hasBackgroundImage,onClick:function(){return t(w("hasBackgroundImage"))}})]}),Object(Q.jsxs)(Y,{children:[Object(Q.jsx)(U,{children:"Save liked jokes in browser"}),Object(Q.jsx)(K.a,{checkedChildren:Object(Q.jsx)(V.a,{}),unCheckedChildren:Object(Q.jsx)(_.a,{}),checked:e.hasLocalStorage,onClick:function(){return t(w("hasLocalStorage"))}})]})]})]})}var re,ae,ce,oe,ie,se,ue=n(38),le=n(69),je=n(42),de=n(51),be=n.n(de),pe=P.a.div(re||(re=Object(H.a)(["\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  text-shadow: 2px 2px 4px black;\n  background: linear-gradient(180deg, "," 0%, "," 100%);\n"])),(function(e){return e.color1}),(function(e){return e.color2})),fe=P.a.img(ae||(ae=Object(H.a)(["\n  width: 100%;\n  height: 100%;\n  opacity: 0.8;\n  -webkit-user-drag: none;\n"]))),ge=a.a.memo((function(e){var t=e.hasBackgroundImage,n=Object(r.useRef)(!1),a=Object(r.useState)(""),c=Object(M.a)(a,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){var e;function r(){return(r=Object(j.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=x.pop())||void 0===r){t.next=4;break}t.t0=r,t.next=7;break;case 4:return t.next=6,h();case 6:t.t0=t.sent;case 7:(e=t.t0)&&!n.current?i(e.url):e&&x.push(e);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return t&&(n.current=!1,function(){r.apply(this,arguments)}()),function(){n.current=!0,x.push(e)}}),[t]),Object(Q.jsx)(pe,{color1:be()(),color2:be()(),children:o&&Object(Q.jsx)(fe,{src:o,alt:"random background for joke"})})})),he=Object(P.a)(q)(ce||(ce=Object(H.a)(["\n  margin: 10px 5px;\n  padding: 10px;\n  box-shadow: 5px 0 40px 0 rgba(0, 0, 0, 0.15);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n  margin: auto;\n  user-select: none;\n  touch-action: none;\n  border-radius: 10px;\n  overflow: hidden;\n"]))),Oe=P.a.div(oe||(oe=Object(H.a)(["\n  color: white;\n  font-weight: bold;\n  font-size: 2rem;\n  -webkit-text-stroke-width: 1.5px;\n  -webkit-text-stroke-color: black;\n  text-align: center;\n  max-height: 100%;\n  position: absolute;\n  padding: 10px;\n  text-shadow: 2px 2px 4px black;\n  touch-action: pan-y;\n  overflow: auto;\n\n  &&::-webkit-scrollbar {\n    display: none;\n  }\n"]))),xe=P.a.div(ie||(ie=Object(H.a)(["\n  color: ",";\n  border: 6px solid currentColor;\n  font-size: 3rem;\n  transform: rotate(-30deg);\n  font-weight: 600;\n  background: rgba(0, 0, 0, 0.25);\n  padding: 0 15px;\n"])),(function(e){return"LEFT"===e.direction?"red":"lightgreen"})),ve=Object(P.a)(je.a)(se||(se=Object(H.a)(["\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  font-size: 2rem;\n  z-index: 1;\n  color: red;\n  stroke: #fff;\n  stroke-width: 1rem;\n"])));var me,ke=Object(G.a)(he);var we=Object(G.a)((function(e){var t=e.jokeText,n=e.styles,a=e.id,c=Object(s.c)((function(e){return e})),o=Object(s.b)(),i=Object(r.useState)(""),u=Object(M.a)(i,2),l=u[0],j=u[1],d=Object(G.b)((function(){return{movementX:0}})),b=Object(M.a)(d,2),p=b[0].movementX,f=b[1],g=Object(le.a)((function(e){var t=e.down,n=Object(M.a)(e.swipe,1)[0],r=Object(M.a)(e.movement,1)[0];if(f({movementX:r}),j(function(e){return e<-30?"LEFT":e>30?"RIGHT":""}(r)),!t){var c=function(e,t){var n=t/10;return-1===e||n<-25?"LEFT":1===e||n>25?"RIGHT":""}(n,r);c?(r="LEFT"===c?r-100:r+100,o(S(c)),o(E(a))):(r=0,j(c)),f({movementX:r})}}),{axis:"x"});return Object(r.useEffect)((function(){var e;a===(null===(e=c.jokes[0])||void 0===e?void 0:e.id)&&c.swipeDirection&&(j(c.swipeDirection),f({movementX:"LEFT"===c.swipeDirection?-250:250}),o(E(a)))}),[c.swipeDirection,o,f,a,c.jokes]),Object(Q.jsxs)(ke,Object(ue.a)(Object(ue.a)({},g()),{},{style:Object(ue.a)(Object(ue.a)({},n),{},{transform:p.interpolate((function(e){return"translate(".concat(e,"px, ").concat(Math.abs(e)/10,"px) rotate(").concat(e/10,"deg)")}))}),children:[Object(Q.jsx)(ge,{hasBackgroundImage:c.hasBackgroundImage}),Object(Q.jsx)(Oe,{children:t}),-1!==c.favorites.findIndex((function(e){return e.id===a}))&&Object(Q.jsx)(ve,{}),"LEFT"===l&&Object(Q.jsx)(xe,{direction:l,children:"NOPE"}),"RIGHT"===l&&Object(Q.jsx)(xe,{direction:l,children:"LIKE"})]}))})),ye=Object(P.a)(q)(me||(me=Object(H.a)(["\n  height: 100%;\n  font-size: 2rem;\n  color: white;\n  font-weight: 600;\n"])));function Se(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)();var n=Object(G.d)(e.jokes.slice(0,2),(function(e){return null===e||void 0===e?void 0:e.id}),{from:{opacity:"1"},leave:{opacity:"0"}});return Object(Q.jsx)(Q.Fragment,{children:0===n.length?Object(Q.jsxs)(ye,{children:["Check your internet connectivity",Object(Q.jsx)(X.a,{type:"primary",size:"large",onClick:function(){t(L())},children:"Retry"})]}):n.reverse().map((function(e){var t=e.item,n=e.props,r=e.key;return Object(Q.jsx)(we,{id:t.id,styles:n,jokeText:null===t||void 0===t?void 0:t.joke},r)}))})}var Ie,Ee,Te,Ce=n(70),Le=n(71),Fe=n(43),ze=n(72),Be=P.a.div(Ie||(Ie=Object(H.a)(["\n  display: flex;\n  margin: 10px 0;\n  height: 80px;\n  justify-content: center;\n"]))),Je=P.a.div(Ee||(Ee=Object(H.a)(["\n  border-radius: 50%;\n  background-color: white;\n  border: 8px solid lightgrey;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  margin: 0 -4px;\n  height: ",";\n  width: ",";\n  font-size: ",";\n"])),(function(e){return e.color}),(function(e){return e.large?"80px":"60px"}),(function(e){return e.large?"80px":"60px"}),(function(e){return e.large?"2rem":"1.5rem"})),De=Object(G.a)(Le.a),Ae=Object(G.a)(je.a);function Re(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)(),n=Object(r.useState)(!1),a=Object(M.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(!1),u=Object(M.a)(i,2),l=u[0],j=u[1],d=Object(G.b)({scale:c?0:1,config:{duration:1e3}}),b=Object(G.b)({scale:l?0:1,config:{duration:1e3}});Object(r.useEffect)((function(){"LEFT"===e.swipeDirection?o((function(e){return!e})):"RIGHT"===e.swipeDirection&&j((function(e){return!e}))}),[e.swipeDirection]);var p=Object(r.useCallback)(Object(Ce.throttle)((function(e){var n=e.target.closest("[data-type]").dataset.type;"HOME"===n?t(y("HOME")):"FAVORITE"===n?t(y("FAVORITE")):"REJECT"===n?t(S("LEFT")):"ACCEPT"===n&&t(S("RIGHT"))}),500,{leading:!0,trailing:!1}),[]);return Object(Q.jsxs)(Be,{onClick:p,children:[Object(Q.jsx)(Je,{"data-type":"HOME",color:"orange",children:Object(Q.jsx)(Fe.b,{})}),Object(Q.jsx)(Je,{"data-type":"REJECT",color:"red",large:!0,children:Object(Q.jsx)(De,{style:{transform:d.scale.interpolate({range:[0,.25,.5,.75,1],output:[1,1.5,1,1.5,1]}).interpolate((function(e){return"scale(".concat(e,")")}))}})}),Object(Q.jsx)(Je,{"data-type":"ACCEPT",color:"green",large:!0,children:Object(Q.jsx)(Ae,{style:{transform:b.scale.interpolate({range:[0,.25,.5,.75,1],output:[1,1.5,1,1.5,1]}).interpolate((function(e){return"scale(".concat(e,")")}))}})}),Object(Q.jsx)(Je,{"data-type":"FAVORITE",color:"blue",children:Object(Q.jsx)(ze.a,{})})]})}var He,Pe,Ne=P.a.div(Te||(Te=Object(H.a)(["\n  box-shadow: 5px 0 30px 0 rgba(0, 0, 0, 0.2);\n  margin: auto;\n  min-height: 300px;\n  border-radius: 10px;\n  margin: 10px;\n  position: relative;\n  flex-grow: 1;\n"])));function Me(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Ne,{children:Object(Q.jsx)(Se,{})}),Object(Q.jsx)(Re,{})]})}var Ge,Xe,Ke,Ve=P.a.div(He||(He=Object(H.a)(["\n  font-size: 1rem;\n  padding: 10px;\n  box-shadow: 0 5px 30px 0 rgba(0, 0, 0, 0.15);\n  margin: 10px;\n  border-radius: 4px;\n  background-color: white;\n  position: relative;\n"]))),_e=P.a.div(Pe||(Pe=Object(H.a)(["\n  text-align: right;\n  font-size: 1.2rem;\n  height: 1.5rem;\n"])));function Ye(e){var t=e.data,n=Object(s.b)();return Object(Q.jsxs)(Ve,{children:[Object(Q.jsx)("div",{children:t.joke}),Object(Q.jsx)(_e,{children:Object(Q.jsx)(Fe.a,{onClick:function(){n(I(t.id))}})})]})}var qe,Qe=Object(P.a)(Y)(Ge||(Ge=Object(H.a)(["\n  background-color: #fd2c7a;\n  position: sticky;\n  padding: 10px;\n  top: 0;\n  z-index: 1;\n"]))),Ue=P.a.div(Xe||(Xe=Object(H.a)(["\n  overflow-y: auto;\n  height: 100%;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),We=Object(P.a)(q)(Ke||(Ke=Object(H.a)(["\n  height: 100%;\n  font-size: 2rem;\n  color: white;\n  font-weight: 600;\n  padding: 10px;\n"])));function Ze(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)();function n(e){t(y(e))}return Object(Q.jsxs)(Ue,{children:[Object(Q.jsxs)(Qe,{children:[Object(Q.jsx)(X.a,{type:"primary",size:"large",onClick:function(){return n("HOME")},style:{margin:"0 10px"},children:"Home"}),Object(Q.jsx)(X.a,{type:"primary",size:"large",onClick:function(){return n("JOKES")},children:"Jokes"})]}),0===e.favorites.length?Object(Q.jsx)(We,{children:"You have not liked any jokes yet"}):e.favorites.map((function(e){return Object(Q.jsx)(Ye,{data:e},null===e||void 0===e?void 0:e.id)}))]})}var $e=P.a.div(qe||(qe=Object(H.a)(["\n  height: 100vh;\n  width: 100%;\n  max-width: 400px;\n  margin: auto;\n  box-shadow: 0 10px 50px 0 rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n  background: linear-gradient(180deg, rgba(253, 41, 123, 1) 0%, rgba(255, 88, 100, 1) 100%);\n  display: flex;\n  flex-direction: column;\n"])));function et(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)();return Object(N.a)((function(){localStorage.setItem("jokes",JSON.stringify(e.jokes)),localStorage.setItem("hasBackgroundImage",e.hasBackgroundImage),localStorage.setItem("hasLocalStorage",e.hasLocalStorage),localStorage.setItem("jokesAPIPageNumber",b),e.hasLocalStorage?localStorage.setItem("favorites",JSON.stringify(e.favorites)):localStorage.removeItem("favorites")})),Object(r.useEffect)((function(){localStorage.getItem("jokes")&&t(T({jokes:JSON.parse(localStorage.getItem("jokes")),favorites:JSON.parse(localStorage.getItem("favorites")),hasBackgroundImage:JSON.parse(localStorage.getItem("hasBackgroundImage")),hasLocalStorage:JSON.parse(localStorage.getItem("hasLocalStorage")),jokesAPIPageNumber:JSON.parse(localStorage.getItem("jokesAPIPageNumber"))}))}),[]),Object(r.useEffect)((function(){t(L())}),[e.jokes,t]),Object(Q.jsx)($e,{children:function(){switch(e.page){case"HOME":return Object(Q.jsx)(ne,{});case"JOKES":return Object(Q.jsx)(Me,{});case"FAVORITE":return Object(Q.jsx)(Ze,{});default:return Object(Q.jsx)(ne,{})}}()})}var tt=Object(i.a)({reducer:C});o.a.render(Object(Q.jsx)(a.a.StrictMode,{children:Object(Q.jsx)(s.a,{store:tt,children:Object(Q.jsx)(et,{})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.dd730110.chunk.js.map