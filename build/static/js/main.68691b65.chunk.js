(this.webpackJsonpfunder=this.webpackJsonpfunder||[]).push([[0],{86:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(28),o=n.n(c),i=n(44),s=n(9),u=n(15),l=n.n(u),j=n(23),d=n(27),b=1,p=!1;function f(){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=19;break}return e.prev=1,e.next=4,fetch("https://icanhazdadjoke.com/search?page=".concat(b),{headers:{Accept:"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,b=n.next_page!==n.total_pages?n.next_page:1,e.abrupt("return",n.results);case 12:return e.prev=12,e.t0=e.catch(1),console.warn(e.t0),e.abrupt("return",null);case 16:return e.prev=16,p=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))).apply(this,arguments)}function h(){return O.apply(this,arguments)}function O(){return(O=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://source.unsplash.com/random/400x600",{headers:{Accept:"application/json"}});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var x=[],v=Object(i.b)({name:"jokes",initialState:{jokes:[],favorites:[],swipeDirection:"",page:"HOME",hasBackgroundImage:!0,hasLocalStorage:!0},reducers:{appendJokes:function(e,t){var n,r=t.payload;(n=e.jokes).push.apply(n,Object(d.a)(r))},invertBoolean:function(e,t){var n=t.payload;e[n]=!e[n]},setPage:function(e,t){var n=t.payload;e.page=n},setSwipeDirection:function(e,t){var n=t.payload;e.swipeDirection=n},onFavDelete:function(e,t){var n=t.payload;e.favorites.splice(e.favorites.findIndex((function(e){return e.id===n})),1)},onSwipe:function(e,t){var n=t.payload;if("RIGHT"===e.swipeDirection){-1===e.favorites.findIndex((function(e){return e.id===n}))&&e.favorites.push(e.jokes[0])}else{var r=e.favorites.findIndex((function(e){return e.id===n}));-1!==r&&e.favorites.splice(r,1)}e.jokes.shift(),e.swipeDirection="",x.pop()},setStateFromLocalStorage:function(e,t){var n,r,a=t.payload;e.jokes=a.jokes,e.favorites=null!==(n=a.favorites)&&void 0!==n?n:[],e.hasBackgroundImage=Boolean(a.hasBackgroundImage),e.hasLocalStorage=Boolean(a.hasLocalStorage),r=a.jokesAPIPageNumber,b=r}}}),m=v.actions,k=m.appendJokes,w=m.invertBoolean,y=m.setPage,S=m.setSwipeDirection,I=m.onFavDelete,E=m.onSwipe,T=m.setStateFromLocalStorage,C=v.reducer,L=function(){return function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n().jokes.length<4)){e.next=6;break}return e.next=4,f();case 4:(r=e.sent)&&t(k(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};!function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.next=5,h();case 5:n=e.sent,t&&n&&x.push(t,n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();n(85),n(86);var F,z,B,J,D,A,R,H=n(6),P=n(75),N=n(74),M=n(7),G=n(13),X=n(14),K=n(93),V=n(94),_=n(95),Y=n(96),q=M.a.div(F||(F=Object(H.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n"]))),Q=Object(M.a)(q)(z||(z=Object(H.a)(["\n  flex-direction: column;\n"]))),U=n(2),W=M.a.label(B||(B=Object(H.a)(["\n  margin: 10px;\n"]))),Z=M.a.div(J||(J=Object(H.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n  background: linear-gradient(180deg, rgba(253, 41, 123, 1) 0%, rgba(255, 88, 100, 1) 100%);\n  color: white;\n"]))),$=M.a.h1(D||(D=Object(H.a)(["\n  text-align: center;\n  margin: 0;\n  font-size: 3rem;\n  color: white;\n"]))),ee=M.a.div(A||(A=Object(H.a)(["\n  text-align: center;\n  margin: 0;\n  font-size: 1.2rem;\n"]))),te=Object(X.a)(M.a.span(R||(R=Object(H.a)(["\n    position: relative;\n  "])))),ne="'Fun'der";function re(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)(),n=Object(X.c)(ne.length,(function(){return{left:1500}})),a=Object(G.a)(n,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){setTimeout((function(){o({left:0})}),0)}),[o]),Object(U.jsxs)(Z,{children:[Object(U.jsxs)($,{children:[c.map((function(e,t){return Object(U.jsx)(te,{style:e,children:ne.charAt(t)},t)})),Object(U.jsx)(ee,{children:"A tinder styled joke application"}),Object(U.jsx)(q,{children:Object(U.jsx)(K.a,{type:"primary",size:"large",onClick:function(){t(y("JOKES"))},style:{margin:"10px"},children:"Lets funder"})})]}),Object(U.jsxs)(Q,{children:[Object(U.jsxs)(q,{children:[Object(U.jsx)(W,{children:"Display background images"}),Object(U.jsx)(V.a,{checkedChildren:Object(U.jsx)(_.a,{}),unCheckedChildren:Object(U.jsx)(Y.a,{}),checked:e.hasBackgroundImage,onClick:function(){return t(w("hasBackgroundImage"))}})]}),Object(U.jsxs)(q,{children:[Object(U.jsx)(W,{children:"Save liked jokes in browser"}),Object(U.jsx)(V.a,{checkedChildren:Object(U.jsx)(_.a,{}),unCheckedChildren:Object(U.jsx)(Y.a,{}),checked:e.hasLocalStorage,onClick:function(){return t(w("hasLocalStorage"))}})]})]})]})}var ae,ce,oe,ie,se,ue,le=n(38),je=n(69),de=n(42),be=n(51),pe=n.n(be),fe=M.a.div(ae||(ae=Object(H.a)(["\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  text-shadow: 2px 2px 4px black;\n  background: linear-gradient(180deg, "," 0%, "," 100%);\n"])),(function(e){return e.color1}),(function(e){return e.color2})),ge=M.a.img(ce||(ce=Object(H.a)(["\n  width: 100%;\n  height: 100%;\n  opacity: 0.6;\n  -webkit-user-drag: none;\n"]))),he=a.a.memo((function(e){var t=e.hasBackgroundImage,n=Object(r.useRef)(!1),a=Object(r.useState)(""),c=Object(G.a)(a,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){var e;function r(){return(r=Object(j.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=x.pop())||void 0===r){t.next=4;break}t.t0=r,t.next=7;break;case 4:return t.next=6,h();case 6:t.t0=t.sent;case 7:(e=t.t0)&&!n.current?i(e.url):e&&x.push(e);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return t&&(n.current=!1,function(){r.apply(this,arguments)}()),function(){n.current=!0,x.push(e)}}),[t]),Object(U.jsx)(fe,{color1:pe()(),color2:pe()(),children:o&&Object(U.jsx)(ge,{src:o,alt:"random background for joke"})})})),Oe=Object(M.a)(Q)(oe||(oe=Object(H.a)(["\n  margin: 10px 5px;\n  padding: 10px;\n  box-shadow: 5px 0 40px 0 rgba(0, 0, 0, 0.15);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n  margin: auto;\n  user-select: none;\n  touch-action: none;\n  border-radius: 10px;\n  overflow: hidden;\n"]))),xe=M.a.div(ie||(ie=Object(H.a)(["\n  color: white;\n  font-weight: bold;\n  font-size: 2rem;\n  -webkit-text-stroke-width: 1.5px;\n  -webkit-text-stroke-color: black;\n  text-align: center;\n  max-height: 100%;\n  position: absolute;\n  padding: 10px;\n  text-shadow: 2px 2px 4px black;\n  touch-action: pan-y;\n  overflow: auto;\n\n  &&::-webkit-scrollbar {\n    display: none;\n  }\n"]))),ve=M.a.div(se||(se=Object(H.a)(["\n  color: ",";\n  border: 6px solid currentColor;\n  font-size: 3rem;\n  transform: rotate(-30deg);\n  font-weight: 600;\n  background: rgba(0, 0, 0, 0.25);\n  padding: 0 15px;\n"])),(function(e){return"LEFT"===e.direction?"red":"lightgreen"})),me=Object(M.a)(de.a)(ue||(ue=Object(H.a)(["\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  font-size: 2rem;\n  z-index: 1;\n  color: red;\n  stroke: #fff;\n  stroke-width: 1rem;\n"])));var ke,we=Object(X.a)(Oe);var ye=Object(X.a)((function(e){var t=e.jokeText,n=e.styles,a=e.id,c=Object(s.c)((function(e){return e})),o=Object(s.b)(),i=Object(r.useState)(""),u=Object(G.a)(i,2),l=u[0],j=u[1],d=Object(X.b)((function(){return{movementX:0}})),b=Object(G.a)(d,2),p=b[0].movementX,f=b[1],g=Object(je.a)((function(e){var t=e.down,n=Object(G.a)(e.swipe,1)[0],r=Object(G.a)(e.movement,1)[0];if(f({movementX:r}),j(function(e){return e<-30?"LEFT":e>30?"RIGHT":""}(r)),!t){var a=function(e,t){var n=t/10;return-1===e||n<-25?"LEFT":1===e||n>25?"RIGHT":""}(n,r);a?o(S(a)):(f({movementX:0}),j(a))}}),{axis:"x"});return Object(r.useEffect)((function(){var e;a===(null===(e=c.jokes[0])||void 0===e?void 0:e.id)&&c.swipeDirection&&(j(c.swipeDirection),f({movementX:"LEFT"===c.swipeDirection?-400:400}),o(E(a)))}),[c.swipeDirection,o,f,a,c.jokes]),Object(U.jsxs)(we,Object(le.a)(Object(le.a)({},g()),{},{style:Object(le.a)(Object(le.a)({},n),{},{transform:p.interpolate((function(e){return"translate(".concat(e,"px, ").concat(Math.abs(e)/10,"px) rotate(").concat(e/10,"deg)")}))}),children:[Object(U.jsx)(he,{hasBackgroundImage:c.hasBackgroundImage}),Object(U.jsx)(xe,{children:t}),-1!==c.favorites.findIndex((function(e){return e.id===a}))&&Object(U.jsx)(me,{}),"LEFT"===l&&Object(U.jsx)(ve,{direction:l,children:"NOPE"}),"RIGHT"===l&&Object(U.jsx)(ve,{direction:l,children:"LIKE"})]}))})),Se=Object(M.a)(Q)(ke||(ke=Object(H.a)(["\n  height: 100%;\n  font-size: 2rem;\n  color: white;\n  font-weight: 600;\n"])));function Ie(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)();var n=Object(X.d)(e.jokes.slice(0,2),(function(e){return null===e||void 0===e?void 0:e.id}),{from:{opacity:"1"},leave:{opacity:"0"}});return Object(U.jsx)(U.Fragment,{children:0===n.length?Object(U.jsxs)(Se,{children:["Check your internet connectivity",Object(U.jsx)(K.a,{type:"primary",size:"large",onClick:function(){t(L())},children:"Retry"})]}):n.reverse().map((function(e){var t=e.item,n=e.props,r=e.key;return Object(U.jsx)(ye,{id:t.id,styles:n,jokeText:null===t||void 0===t?void 0:t.joke},r)}))})}var Ee,Te,Ce,Le=n(70),Fe=n(71),ze=n(43),Be=n(72),Je=M.a.div(Ee||(Ee=Object(H.a)(["\n  display: flex;\n  margin: 10px 0;\n  height: 80px;\n  justify-content: center;\n"]))),De=M.a.div(Te||(Te=Object(H.a)(["\n  border-radius: 50%;\n  background-color: white;\n  border: 8px solid lightgrey;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  margin: 0 -4px;\n  height: ",";\n  width: ",";\n  font-size: ",";\n"])),(function(e){return e.color}),(function(e){return e.large?"80px":"60px"}),(function(e){return e.large?"80px":"60px"}),(function(e){return e.large?"2rem":"1.5rem"})),Ae=Object(X.a)(Fe.a),Re=Object(X.a)(de.a);function He(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)(),n=Object(r.useState)(!1),a=Object(G.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(!1),u=Object(G.a)(i,2),l=u[0],j=u[1],d=Object(X.b)({scale:c?0:1,config:{duration:1e3}}),b=Object(X.b)({scale:l?0:1,config:{duration:1e3}});Object(r.useEffect)((function(){"LEFT"===e.swipeDirection?o((function(e){return!e})):"RIGHT"===e.swipeDirection&&j((function(e){return!e}))}),[e.swipeDirection]);var p=Object(r.useCallback)(Object(Le.throttle)((function(e){var n=e.target.closest("[data-type]").dataset.type;"HOME"===n?t(y("HOME")):"FAVORITE"===n?t(y("FAVORITE")):"REJECT"===n?t(S("LEFT")):"ACCEPT"===n&&t(S("RIGHT"))}),500,{leading:!0,trailing:!1}),[]);return Object(U.jsxs)(Je,{onClick:p,children:[Object(U.jsx)(De,{"data-type":"HOME",color:"orange",children:Object(U.jsx)(ze.b,{})}),Object(U.jsx)(De,{"data-type":"REJECT",color:"red",large:!0,children:Object(U.jsx)(Ae,{style:{transform:d.scale.interpolate({range:[0,.25,.5,.75,1],output:[1,1.5,1,1.5,1]}).interpolate((function(e){return"scale(".concat(e,")")}))}})}),Object(U.jsx)(De,{"data-type":"ACCEPT",color:"green",large:!0,children:Object(U.jsx)(Re,{style:{transform:b.scale.interpolate({range:[0,.25,.5,.75,1],output:[1,1.5,1,1.5,1]}).interpolate((function(e){return"scale(".concat(e,")")}))}})}),Object(U.jsx)(De,{"data-type":"FAVORITE",color:"blue",children:Object(U.jsx)(Be.a,{})})]})}var Pe,Ne,Me=M.a.div(Ce||(Ce=Object(H.a)(["\n  box-shadow: 5px 0 30px 0 rgba(0, 0, 0, 0.2);\n  margin: auto;\n  min-height: 300px;\n  border-radius: 10px;\n  margin: 10px;\n  position: relative;\n  flex-grow: 1;\n"])));function Ge(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Me,{children:Object(U.jsx)(Ie,{})}),Object(U.jsx)(He,{})]})}var Xe,Ke,Ve,_e=M.a.div(Pe||(Pe=Object(H.a)(["\n  font-size: 1rem;\n  padding: 10px;\n  box-shadow: 0 5px 30px 0 rgba(0, 0, 0, 0.15);\n  margin: 10px;\n  border-radius: 4px;\n  background-color: white;\n  position: relative;\n"]))),Ye=M.a.div(Ne||(Ne=Object(H.a)(["\n  text-align: right;\n  font-size: 1.2rem;\n  height: 1.5rem;\n"])));function qe(e){var t=e.data,n=Object(s.b)();return Object(U.jsxs)(_e,{children:[Object(U.jsx)("div",{children:t.joke}),Object(U.jsx)(Ye,{children:Object(U.jsx)(ze.a,{onClick:function(){n(I(t.id))}})})]})}var Qe,Ue=Object(M.a)(q)(Xe||(Xe=Object(H.a)(["\n  background-color: #fd2c7a;\n  position: sticky;\n  padding: 10px;\n  top: 0;\n  z-index: 1;\n"]))),We=M.a.div(Ke||(Ke=Object(H.a)(["\n  overflow-y: auto;\n  height: 100%;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),Ze=Object(M.a)(Q)(Ve||(Ve=Object(H.a)(["\n  height: 100%;\n  font-size: 2rem;\n  color: white;\n  font-weight: 600;\n  padding: 10px;\n"])));function $e(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)();function n(e){t(y(e))}return Object(U.jsxs)(We,{children:[Object(U.jsxs)(Ue,{children:[Object(U.jsx)(K.a,{type:"primary",size:"large",onClick:function(){return n("HOME")},style:{margin:"0 10px"},children:"Home"}),Object(U.jsx)(K.a,{type:"primary",size:"large",onClick:function(){return n("JOKES")},children:"Jokes"})]}),0===e.favorites.length?Object(U.jsx)(Ze,{children:"You have not liked any jokes yet"}):e.favorites.map((function(e){return Object(U.jsx)(qe,{data:e},null===e||void 0===e?void 0:e.id)}))]})}var et=M.a.div(Qe||(Qe=Object(H.a)(["\n  height: ",";\n  width: 100%;\n  max-width: 400px;\n  margin: auto;\n  box-shadow: 0 10px 50px 0 rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n  background: linear-gradient(180deg, rgba(253, 41, 123, 1) 0%, rgba(255, 88, 100, 1) 100%);\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.height+"px"}));function tt(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)(),n=Object(N.a)();return Object(P.a)((function(){localStorage.setItem("jokes",JSON.stringify(e.jokes)),localStorage.setItem("hasBackgroundImage",e.hasBackgroundImage),localStorage.setItem("hasLocalStorage",e.hasLocalStorage),localStorage.setItem("jokesAPIPageNumber",b),e.hasLocalStorage?localStorage.setItem("favorites",JSON.stringify(e.favorites)):localStorage.removeItem("favorites")})),Object(r.useEffect)((function(){localStorage.getItem("jokes")&&t(T({jokes:JSON.parse(localStorage.getItem("jokes")),favorites:JSON.parse(localStorage.getItem("favorites")),hasBackgroundImage:JSON.parse(localStorage.getItem("hasBackgroundImage")),hasLocalStorage:JSON.parse(localStorage.getItem("hasLocalStorage")),jokesAPIPageNumber:JSON.parse(localStorage.getItem("jokesAPIPageNumber"))}))}),[]),Object(r.useEffect)((function(){t(L())}),[e.jokes,t]),Object(U.jsx)(et,{height:n,children:function(){switch(e.page){case"HOME":return Object(U.jsx)(re,{});case"JOKES":return Object(U.jsx)(Ge,{});case"FAVORITE":return Object(U.jsx)($e,{});default:return Object(U.jsx)(re,{})}}()})}var nt=Object(i.a)({reducer:C});o.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(s.a,{store:nt,children:Object(U.jsx)(tt,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.68691b65.chunk.js.map